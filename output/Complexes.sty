\newif\if@arc\@arcfalse
\DeclareOption{arc}{\@arctrue}
\DeclareOption*{}
\ProcessOptions\relax

\if@arc
    \RequirePackage{graphics}
    \newcommand{\arc}[1]{\mathpalette\arc@arc{#1}\!}
    \newcommand{\arc@arc}[2]{
        \sbox0{$\m@th#1#2\ \!$}
        \vbox{
            \hbox{\hspace{-0.05\wd0}\resizebox{1.1\wd0}{\height}{$\frown$}}
            \nointerlineskip
            \vspace{-1pt}
            \box0
        }
    }
    \renewcommand{\hat}[1]{\mathpalette\hat@hat{#1}\sbox0{$\m@th#1$}\hspace{-0.375\wd0}}
    \newcommand{\hat@hat}[2]{
        \sbox0{$\m@th#1#2$}
        \vbox{
            \hbox{\hspace{-0.375\wd0}\resizebox{1.75\wd0}{\height}{$\string^$}}
            \nointerlineskip
            \vspace{-5pt}
            \box0
        }
    }
\fi

\let\oldbar\bar
\renewcommand{\bar}{\overline}
\DeclareMathOperator{\olde}{e}
\newcommand{\e}{{\olde}}
\let\ii\i
\DeclareMathOperator{\oldi}{i}
\renewcommand{\i}{{\oldi}}
\DeclareMathSymbol{\tmpiii}{\mathalpha}{letters}{"10}
\DeclareMathOperator{\oldii}{\tmpiii}
\newcommand{\iii}{{\oldii}}
\let\jj\j
\DeclareMathOperator{\oldj}{j}
\renewcommand{\j}{{\oldj}}
\DeclareMathSymbol{\tmpjjj}{\mathalpha}{letters}{"11}
\DeclareMathOperator{\oldjj}{\tmpjjj}
\newcommand{\jjj}{{\oldjj}}
\let\oldIm\Im
\let\Im\relax
\DeclareMathOperator{\Im}{Im}
\newcommand{\pIm}[1]{\Im\l#1\r}
\let\oldRe\Re
\let\Re\relax
\DeclareMathOperator{\Re}{Re}
\newcommand{\pRe}[1]{\Re\l#1\r}